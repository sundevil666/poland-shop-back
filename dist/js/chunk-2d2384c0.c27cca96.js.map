{"version":3,"sources":["webpack:///./src/views/AddCategory.vue","webpack:///./src/views/AddCategory.vue?88a2"],"names":["class","_createElementVNode","for","selected","disabled","value","_createElementBlock","$options","$data","onSubmit","_hoisted_2","_hoisted_3","_createVNode","_component_the_input","label","type","placeholder","typeInput","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","cat","key","id","name","_hoisted_8","_component_the_button","length","src","alt","data","labelCategory","listCategory","previewCategory","category","currentCategory","isLoad","computed","idCategory","this","$route","params","filterCategory","filter","item","mounted","fetchListCategory","fetchCategoryById","methods","$store","dispatch","then","preview","parent_id","parent","$router","push","__exports__","render"],"mappings":"0JAKWA,MAAM,O,GACJA,MAAM,S,GAGJA,MAAM,Q,EACTC,eAAyE,SAAlEC,IAAI,2BAA2BF,MAAM,cAAa,YAAQ,G,EAE/DC,eAAwD,UAAhDE,SAAA,GAASC,SAAA,GAASC,MAAM,QAAO,YAAQ,G,eAWhDL,MAAM,S,6HAtBjBM,eA8BM,YA7BJL,eAA4D,yBAApDM,aAA8B,gBAAjB,gBAAH,GACPC,UAAM,iBAAjBF,eAAgC,QAAb,aAAO,iBAC1BA,eA0BO,Q,MA1BOG,SAAM,mCAAUF,6BAAQ,e,CACpCN,eAuBM,MAvBNS,EAuBM,CAtBJT,eAgBM,MAhBNU,EAgBM,CAfJC,eAAqGC,GAA1FC,MAAM,iBAAiBC,KAAK,OAAOC,YAAY,iB,WAA0BR,gB,qCAAAA,gBAAa,I,uBACjGI,eAA4FC,GAAjFC,MAAM,QAAQG,UAAU,O,WAAgBT,kB,qCAAAA,kBAAe,GAAEQ,YAAY,W,uBAChFf,eAYM,MAZNiB,EAYM,CAXJC,EAAyE,eACzElB,eASS,U,qCATQO,kBAAe,GAAER,MAAM,e,CACtCoB,GAAwD,mBACxDd,eAMSe,2BALSd,iBAAPe,I,iBADXhB,eAMS,UAJJiB,IAAKD,EAAIE,GACTnB,MAAOiB,EAAIE,I,eAEXF,EAAIG,MAAI,O,qBAPEjB,yBAYrBP,eAGM,MAHNyB,EAGM,CAFJd,eAAmFe,GAAtEb,MAAQP,aAA8B,gBAAjB,eAAkCP,MAAM,Q,kBAC/DQ,kBAAgBoB,OAAS,GAAH,iBAAjCtB,eAAqG,O,MAA7DuB,IAAKrB,kBAAiBsB,IAAI,qBAAqB9B,MAAM,S,2DAWxF,GACbyB,KAAM,cACNM,OACE,MAAO,CACLC,cAAe,GACfC,aAAc,GACdC,gBAAiB,GACjBC,SAAU,GACVC,gBAAiB,KACjBC,QAAQ,IAGZC,SAAU,CACRC,aACE,OAAOC,KAAKC,OAAOC,OAAOlB,IAE5BmB,iBACE,OAAOH,KAAKD,WAAaC,KAAKP,aAAaW,OAAOC,GAAQA,EAAKrB,KAAOgB,KAAKL,SAASX,IAAMgB,KAAKP,eAGnGa,UACEN,KAAKO,oBACFP,KAAKD,YACNC,KAAKQ,kBAAkBR,KAAKD,aAGhCU,QAAS,CACPF,oBACEP,KAAKH,QAAS,EACdG,KAAKU,OAAOC,SAAS,gBAChBC,KAAMrB,IACLS,KAAKP,aAAeF,EAAKA,KACzBS,KAAKH,QAAS,KAGtBW,kBAAmBxB,GACjBgB,KAAKH,QAAS,EACdG,KAAKU,OAAOC,SAAS,kBAAmB3B,GACnC4B,KAAMrB,IACLS,KAAKL,SAAWJ,EAAKA,KACrBS,KAAKR,cAAgBQ,KAAKL,SAASV,KACnCe,KAAKN,gBAAkBM,KAAKL,SAASkB,SAAW,GAC7Cb,KAAKL,SAASmB,YACfd,KAAKJ,gBAAkBI,KAAKL,SAASoB,OAAO/B,IAE9CgB,KAAKH,QAAQ,KAGrB5B,WACE,IAAI+B,KAAKR,cACP,OAEF,MAAMD,EAAO,CACXN,KAAMe,KAAKR,cACXsB,UAAWd,KAAKJ,gBAChBiB,QAASb,KAAKN,iBAEZM,KAAKD,WAMPC,KAAKU,OAAOC,SAAS,qBAAsB,CAAC3B,GAAIgB,KAAKD,WAAYR,SAC5DqB,KAAK,KACJZ,KAAKR,cAAgB,GACrBQ,KAAKgB,QAAQC,KAAK,CAAChC,KAAM,eAR/Be,KAAKU,OAAOC,SAAS,cAAepB,GAC/BqB,KAAK,KACJZ,KAAKR,cAAgB,Q,qBC3FnC,MAAM0B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d2384c0.c27cca96.js","sourcesContent":["<template>\n  <div>\n    <h1>{{ !idCategory ? 'Add Category' : 'Edit Category'}}</h1>\n    <div v-if=\"isLoad\">Load...</div>\n    <form v-else @submit.prevent=\"onSubmit\">\n      <div class=\"row\">\n        <div class=\"col-8\">\n          <the-input label=\"Title category\" type=\"text\" placeholder=\"Title category\" v-model=\"labelCategory\" />\n          <the-input label=\"Photo\" typeInput=\"text\" v-model=\"previewCategory\" placeholder=\"src img\" />\n          <div class=\"mb-3\">\n            <label for=\"exampleFormControlInput1\" class=\"form-label\">Category</label>\n            <select v-model=\"currentCategory\" class=\"form-select\">\n              <option selected disabled value=\"null\">Category</option>\n              <option\n                  v-for=\"cat in filterCategory\"\n                  :key=\"cat.id\"\n                  :value=\"cat.id\"\n              >\n                {{ cat.name }}\n              </option>\n            </select>\n          </div>\n        </div>\n        <div class=\"col-4\">\n          <the-button :label=\"!idCategory ? 'Add Category' : 'Edit Category'\" class=\"mb-3\" />\n          <img v-if=\"previewCategory.length > 0\" :src=\"previewCategory\" alt=\"src is not correct\" class=\"w-100\">\n        </div>\n\n      </div>\n\n    </form>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"AddCategory\",\n  data() {\n    return {\n      labelCategory: '',\n      listCategory: [],\n      previewCategory: '',\n      category: {},\n      currentCategory: null,\n      isLoad: false,\n    }\n  },\n  computed: {\n    idCategory() {\n      return this.$route.params.id\n    },\n    filterCategory () {\n      return this.idCategory ? this.listCategory.filter(item => item.id !== this.category.id) : this.listCategory\n    },\n  },\n  mounted () {\n    this.fetchListCategory()\n    if(this.idCategory) {\n      this.fetchCategoryById(this.idCategory)\n    }\n  },\n  methods: {\n    fetchListCategory () {\n      this.isLoad = true\n      this.$store.dispatch('listCategory')\n          .then((data) => {\n            this.listCategory = data.data\n            this.isLoad = false\n          })\n    },\n    fetchCategoryById (id) {\n      this.isLoad = true\n      this.$store.dispatch('getCategoryById', id)\n          .then((data) => {\n            this.category = data.data\n            this.labelCategory = this.category.name\n            this.previewCategory = this.category.preview || ''\n            if(this.category.parent_id) {\n              this.currentCategory = this.category.parent.id\n            }\n            this.isLoad =false\n          })\n    },\n    onSubmit () {\n      if(!this.labelCategory) {\n        return\n      }\n      const data = {\n        name: this.labelCategory,\n        parent_id: this.currentCategory,\n        preview: this.previewCategory,\n      }\n      if(!this.idCategory) {\n        this.$store.dispatch('addCategory', data)\n            .then(() => {\n              this.labelCategory = ''\n            })\n      } else {\n        this.$store.dispatch('updateCategoryById', {id: this.idCategory, data})\n            .then(() => {\n              this.labelCategory = ''\n              this.$router.push({name: 'Category'});\n            })\n      }\n\n    }\n  }\n}\n</script>\n","import { render } from \"./AddCategory.vue?vue&type=template&id=897b5b08\"\nimport script from \"./AddCategory.vue?vue&type=script&lang=js\"\nexport * from \"./AddCategory.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/sundevil/domains/poland-shop-back/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}