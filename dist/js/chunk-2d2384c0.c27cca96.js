(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2384c0"],{ff7a:function(t,e,a){"use strict";a.r(e);var r=a("7a23");const o={key:0},i={class:"row"},l={class:"col-8"},s={class:"mb-3"},c=Object(r["h"])("label",{for:"exampleFormControlInput1",class:"form-label"},"Category",-1),d=Object(r["h"])("option",{selected:"",disabled:"",value:"null"},"Category",-1),y=["value"],g={class:"col-4"},h=["src"];function n(t,e,a,n,b,C){const u=Object(r["D"])("the-input"),p=Object(r["D"])("the-button");return Object(r["y"])(),Object(r["g"])("div",null,[Object(r["h"])("h1",null,Object(r["G"])(C.idCategory?"Edit Category":"Add Category"),1),b.isLoad?(Object(r["y"])(),Object(r["g"])("div",o,"Load...")):(Object(r["y"])(),Object(r["g"])("form",{key:1,onSubmit:e[3]||(e[3]=Object(r["P"])((...t)=>C.onSubmit&&C.onSubmit(...t),["prevent"]))},[Object(r["h"])("div",i,[Object(r["h"])("div",l,[Object(r["j"])(u,{label:"Title category",type:"text",placeholder:"Title category",modelValue:b.labelCategory,"onUpdate:modelValue":e[0]||(e[0]=t=>b.labelCategory=t)},null,8,["modelValue"]),Object(r["j"])(u,{label:"Photo",typeInput:"text",modelValue:b.previewCategory,"onUpdate:modelValue":e[1]||(e[1]=t=>b.previewCategory=t),placeholder:"src img"},null,8,["modelValue"]),Object(r["h"])("div",s,[c,Object(r["O"])(Object(r["h"])("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>b.currentCategory=t),class:"form-select"},[d,(Object(r["y"])(!0),Object(r["g"])(r["a"],null,Object(r["C"])(C.filterCategory,t=>(Object(r["y"])(),Object(r["g"])("option",{key:t.id,value:t.id},Object(r["G"])(t.name),9,y))),128))],512),[[r["J"],b.currentCategory]])])]),Object(r["h"])("div",g,[Object(r["j"])(p,{label:C.idCategory?"Edit Category":"Add Category",class:"mb-3"},null,8,["label"]),b.previewCategory.length>0?(Object(r["y"])(),Object(r["g"])("img",{key:0,src:b.previewCategory,alt:"src is not correct",class:"w-100"},null,8,h)):Object(r["f"])("",!0)])])],32))])}a("14d9");var b={name:"AddCategory",data(){return{labelCategory:"",listCategory:[],previewCategory:"",category:{},currentCategory:null,isLoad:!1}},computed:{idCategory(){return this.$route.params.id},filterCategory(){return this.idCategory?this.listCategory.filter(t=>t.id!==this.category.id):this.listCategory}},mounted(){this.fetchListCategory(),this.idCategory&&this.fetchCategoryById(this.idCategory)},methods:{fetchListCategory(){this.isLoad=!0,this.$store.dispatch("listCategory").then(t=>{this.listCategory=t.data,this.isLoad=!1})},fetchCategoryById(t){this.isLoad=!0,this.$store.dispatch("getCategoryById",t).then(t=>{this.category=t.data,this.labelCategory=this.category.name,this.previewCategory=this.category.preview||"",this.category.parent_id&&(this.currentCategory=this.category.parent.id),this.isLoad=!1})},onSubmit(){if(!this.labelCategory)return;const t={name:this.labelCategory,parent_id:this.currentCategory,preview:this.previewCategory};this.idCategory?this.$store.dispatch("updateCategoryById",{id:this.idCategory,data:t}).then(()=>{this.labelCategory="",this.$router.push({name:"Category"})}):this.$store.dispatch("addCategory",t).then(()=>{this.labelCategory=""})}}},C=a("6b0d"),u=a.n(C);const p=u()(b,[["render",n]]);e["default"]=p}}]);
//# sourceMappingURL=chunk-2d2384c0.c27cca96.js.map